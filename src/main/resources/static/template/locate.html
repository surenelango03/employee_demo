<!DOCTYPE html>
<html>
<head>
    <title>Find Employee</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../js/FetchEmployeeDetails.js"></script>
</head>
<body>
    <h1>Find Employee</h1>
    <form id="empForm">
        <label for="id">Enter Employee ID:</label>
        <input type="number" id="id" name="id" required>
        <br><br>
        <!-- Two buttons: GET and POST -->
        <button type="button" id="fetchBtnGet">Get (via GET)</button>
        <button type="button" id="fetchBtnPost">Get (via POST)</button>
    </form>

    <script>
        $(document).ready(function() {
            // GET button: navigate to details.html with query string
            $('#fetchBtnGet').click(function() {
                const employeeId = $('#id').val();
                if (!employeeId) {
                    alert("Please enter Employee ID");
                    return;
                }
                // GET uses query parameters
                window.location.href = `details.html?id=${employeeId}&method=get`;
            });

            // POST button: store in sessionStorage instead of query string
            $('#fetchBtnPost').click(function() {
                const employeeId = $('#id').val();
                if (!employeeId) {
                    alert("Please enter Employee ID");
                    return;
                }
                // Save to sessionStorage
                sessionStorage.setItem("employeeId", employeeId);
                sessionStorage.setItem("method", "post");

                // Navigate without query string
                window.location.href = `details.html`;
            });
        });
    </script>
</body>
</html>
